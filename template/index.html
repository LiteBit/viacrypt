<!DOCTYPE html>
<html>
<head>
<title>ViaCRYPT</title>

<meta name="viewport" content="initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0, width=device-width, user-scalable=no" />

<link href="lib/bootstrap-combined.min.css" rel="stylesheet">
<link href="vialink.css" rel="stylesheet">

<!-- Favicons-->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" type="image/x-icon" href="ico/apple-touch-icon-57-precomposed.png">
<link rel="shortcut icon"  type="image/x-icon" href="ico/favicon.png">
<!--[if IE]><link rel="shortcut icon" type="image/x-icon" href="ico/favicon.ico"><![endif]-->
<!-- or, set /ico/favicon.ico for IE10 win -->
<meta name="msapplication-TileColor" content="#fff" />
<meta name="msapplication-TileImage" content="ico/tileicon.png" /><!--144x144px -->

<!--[if !IE 7]>
	<style type="text/css">
		#wrap {display:table;height:100%}
	</style>
<![endif]-->

<script src="lib/aes.js"></script>
<script src="lib/jquery-1.10.2.min.js"></script>
<script src="lib/bootstrap.min.js"></script>
<script src="viacrypt.js"></script>
</head>

<body style="padding-top: 115px">

<a href="https://github.com/vialink/viacrypt" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 9999" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>

<div class="container">
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<a class="brand" href="/" title="ViaCRYPT">ViaCRYPT</a>
			<ul class="nav pull-right-nav">
				<li><a href="#whatIsIt" role="button" data-toggle="modal">
					<span class="menu-hover menu-hover-top"></span>
					What is it and how does it work?
					<span class="menu-hover"></span>
				</a></li>
				<li><a href="#forNerds" role="button" data-toggle="modal">
					<span class="menu-hover menu-hover-top"></span>
					Explanation for nerds
					<span class="menu-hover"></span>
				</a></li>
			</ul>
		</div>
	</div>
	<form class="form-horizontal">
		<div class="control-group">
			<textarea id="message" style="background-color: rgba(255, 255, 255, 0.4); font-size: 16px; font-family: monospace; width: 100%;" class="input-xxlarge" rows="20" placeholder="Type here your secret message..."></textarea>
		</div>
		<div class="control-group">
			<button id="save" type="button" class="btn btn-primary">Save it</button>
		</div>
	</form>
	<div id="showUrl" class="well hide">
		URL of this message: <span class="url"></span>
	</div>

	<div id="footer">
		<div class="container">
			<div class="desenv">
				<span>Developed by</span> <a href="http://www.vialink.com.br" target="_blank" title="Vialink" class="logo-vialink">VIALINK</a>
			</div>
		</div>    
    </div>
</div>

<div id="whatIsIt" class="modal hide fade" tabindex="-1" role="dialog">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<h3>What is it and how does it work?</h3>
	</div>
	<div class="modal-body">
		<p>This app is an encrypted messaging system where the recipient can read the message only once. After the read, the message is deleted and cannot be retrieved anymore.</p>
		<p>The message is encrypted in your browser and stored into our servers. The key to decrypt the message is inside the generated URL and no one, but you and the recipient, has it. Thus, it is impossible to anyone, even us or the government to read the content of your message.</p>
		<p>The encryption system is so strong that all computers in the world together would take much more than one trillion years to break it. You can have more information about it <a href="http://www.eetimes.com/document.asp?doc_id=1279619" target="_blank">here</a>.</p>
		<p>If you want to check if the above is true or want to run it home, the code is available at <a href="https://github.com/vialink/viacrypt" target="_blank">Github</a>.</p>
	</div>
	<div class="modal-footer">
		<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
	</div>
</div>

<div id="forNerds" class="modal hide fade" tabindex="-1" role="dialog">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<h3>For nerds..</h3>
	</div>
	<div class="modal-body">
		<p>The message is encrypted using AES and has a 256-bit key with passphrase. The passphrase is randomly generated at your browser, then the message is encrypted and stored into our servers through an unique identifier. The generated URL is composed of two parts: the unique identified and the random passphrase. Both are in the fragment of the URL and are not sent to our webserver when the URL is opened.</p>
		<p>When the generated URL is opened, a javascript code parses the URL and retrieve the message by its unique identifier. The servers returns the message and delete it at once. Then, the message is decrypted in your browser using the passphrase and is presented to you. If you try to open the same message again, our servers will return a 404 status code because the message no longer exists.</p>
		<p>One can argue that someone might retrieve your message and make it unavailable to you. Although it is possible, the unique identifiers are randomly generated using RFC4122 v4 UUID and the probability of a random hit is about 8.64E-78.</p>
		<p>If you want to check if the above is true or want to run it home, the code is available at <a href="https://github.com/vialink/viacrypt" target="_blank">Github</a>.</p>
	</div>
	<div class="modal-footer">
		<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
	</div>
</div>

<div id="messageModal" class="modal hide fade" tabindex="-1" role="dialog">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<h3>Your message is...</h3>
	</div>
	<div class="modal-body">
		<pre class="message"></pre>
		<span class="label label-important">REMEMBER</span> This message was deleted and you cannot read it again.
	</div>
	<div class="modal-footer">
		<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
	</div>
</div>

{{#enable_ga}}
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '{{ga_tracking_code}}', 'viacry.pt');
  ga('send', 'pageview');

</script>
{{/enable_ga}}

</body>
</html>
